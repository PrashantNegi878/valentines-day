<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For Aakanksha ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        /* --- General Styling --- */
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%);
            height: 100vh;
            height: 100dvh; 
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Poppins', sans-serif;
            overflow: hidden; 
        }

        .bg-hearts {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }

        .heart-bg {
            position: absolute;
            bottom: -100px;
            color: rgba(255, 255, 255, 0.5);
            animation: floatUp 15s infinite linear;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-1000px) rotate(360deg); opacity: 0; }
        }

        /* --- Main Card --- */
        .card {
            background: rgba(255, 255, 255, 0.4);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.18);
            padding: 20px; 
            text-align: center;
            width: 85%;
            max-width: 380px; 
            max-height: 90vh; 
            overflow-y: auto; 
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: all 0.5s ease;
        }

        .card::-webkit-scrollbar { display: none; }
        .card { -ms-overflow-style: none; scrollbar-width: none; }

        h1 {
            font-family: 'Dancing Script', cursive;
            color: #d63384;
            font-size: 2.2rem;
            margin: 0 0 10px 0;
            line-height: 1.2;
            transition: opacity 0.5s ease, transform 0.5s ease, filter 0.5s ease;
        }

        p {
            color: #555;
            font-size: 0.95rem;
            margin-bottom: 15px;
            line-height: 1.5;
            min-height: 3em; 
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.5s ease, transform 0.5s ease, filter 0.5s ease;
        }

        /* Text Magic Animations */
        .hide-text { opacity: 0; transform: translateY(10px); filter: blur(5px); }
        .sparkle-effect { animation: textGlow 1.5s ease-out; }
        @keyframes textGlow {
            0% { text-shadow: 0 0 0 rgba(255, 105, 180, 0); }
            50% { text-shadow: 0 0 10px rgba(255, 105, 180, 0.5), 0 0 20px rgba(255, 105, 180, 0.3); color: #c9184a; }
            100% { text-shadow: 0 0 0 rgba(255, 105, 180, 0); }
        }

        /* --- Sections Visibility --- */
        /* Everything hidden by default except logic decides what to show */
        #slideshow-container, #proposal, #success-msg, #bonus-screen, #start-content {
            display: none;
            width: 100%;
            flex-direction: column;
            align-items: center;
        }

        #countdown-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }

        /* --- Countdown Styling --- */
        #timer {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }
        .time-box {
            background: rgba(255, 255, 255, 0.6);
            padding: 10px;
            border-radius: 10px;
            min-width: 50px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .time-val {
            font-size: 1.5rem;
            font-weight: bold;
            color: #d63384;
            display: block;
        }
        .time-label {
            font-size: 0.7rem;
            color: #555;
            text-transform: uppercase;
        }

        /* --- Photos & Frames --- */
        .photo-frame {
            width: 100%;
            aspect-ratio: 3 / 4; 
            max-height: 50vh; 
            background-color: #fff;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            position: relative; 
            margin-bottom: 15px;
            border: 4px solid white; 
        }

        .photo-frame img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover; 
            opacity: 0; 
            transition: opacity 1s ease-in-out; 
        }

        .photo-frame img.active { opacity: 1; }

        .btn {
            background: #ff4d6d;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 77, 109, 0.4);
            white-space: nowrap;
            max-width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .btn:hover { transform: scale(1.02); background: #ff2a4d; }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.8);
            color: #ff4d6d;
            border: 2px solid #ff4d6d;
            margin-top: 10px;
            margin-bottom: 10px; 
            font-size: 0.85rem;
            padding: 10px 15px;
            white-space: normal; 
        }
        
        /* --- Specific Section Styling --- */
        .big-question { font-size: 1.5rem; color: #c9184a; font-weight: bold; margin: 10px 0; line-height: 1.3; }
        .satire { font-size: 0.8rem; color: #777; font-style: italic; margin-bottom: 15px; min-height: auto; display: block; }
        .yes-btn { font-size: 1.4rem; padding: 12px 40px; background: linear-gradient(45deg, #ff0055, #ff0099); box-shadow: 0 0 20px rgba(255, 0, 85, 0.6); animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        
        /* Final & Bonus */
        .final-slideshow-container { width: 100%; aspect-ratio: 4 / 3; position: relative; margin-top: 5px; border-radius: 10px; overflow: hidden; border: 3px solid white; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .final-img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 1.5s ease-in-out; }
        .final-img.active { opacity: 1; }
        .funny-frame { width: 100%; max-height: 40vh; border: 4px solid white; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); overflow: hidden; margin-bottom: 15px; background: white; display: flex; justify-content: center; align-items: center; }
        .funny-frame img { width: 100%; height: 100%; object-fit: contain; display: block; }

        /* Confetti */
        #confetti { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 100; }

        @media (max-width: 600px) {
            .card { width: 90%; padding: 15px; }
            h1 { font-size: 1.8rem; }
            .big-question { font-size: 1.3rem; }
            p { font-size: 0.9rem; }
            .btn { padding: 10px 20px; font-size: 0.95rem; }
            .emoji-big { font-size: 2.5rem !important; }
        }
    </style>
</head>
<body>

    <div class="bg-hearts" id="bg-hearts"></div>

    <div class="card">
        
        <div id="start-screen">
            <h1>Hey Aakanksha...</h1>
            
            <div id="countdown-container">
                <p>Patience, my love... <br>The surprise unlocks in:</p>
                <div id="timer">
                    <div class="time-box"><span class="time-val" id="days">00</span><span class="time-label">Days</span></div>
                    <div class="time-box"><span class="time-val" id="hours">00</span><span class="time-label">Hrs</span></div>
                    <div class="time-box"><span class="time-val" id="mins">00</span><span class="time-label">Min</span></div>
                    <div class="time-box"><span class="time-val" id="secs">00</span><span class="time-label">Sec</span></div>
                </div>
            </div>

            <div id="start-content">
                <p>I wanted to make a little something special just for us. <br>Ready to see?</p>
                <button class="btn" onclick="startJourney()">Open üíå</button>
            </div>
        </div>

        <div id="slideshow-container">
            <h1 id="header-text" class="text-element">Us ‚ù§Ô∏è</h1>
            <div class="photo-frame">
                <img src="img1.jpeg" class="active" alt="Us 1">
                <img src="img2.jpeg" alt="Us 2">
                <img src="img3.jpeg" alt="Us 3">
                <img src="img4.jpeg" alt="Us 4">
                <img src="img5.jpeg" alt="Her">
            </div>
            <p id="caption-text" class="text-element">To my darling Aakanksha, here‚Äôs a little trip down memory lane...</p>
            <button class="btn" onclick="nextSlide()" id="next-btn">Start, my sunshine ‚òÄÔ∏è</button>
        </div>

        <div id="proposal">
            <div class="emoji-big" style="font-size: 4rem; margin-bottom: 10px;">üåπ</div>
            <div class="big-question">
                My Darling Aakanksha,<br>
                Will you be my Valentine?
            </div>
            <p class="satire">(Note: I removed the 'No' button because you literally can't back out now. You're stuck with me! üòú)</p>
            <button class="btn yes-btn" onclick="acceptProposal()">YES! ‚ù§Ô∏è</button>
        </div>

        <div id="success-msg">
            <h1>Happy Valentine's Day,<br>my Valentine! ‚ù§Ô∏è</h1>
            <p style="font-size: 0.9rem; min-height: auto; margin-bottom: 5px;">You're the best thing that ever happened to me, wifey.</p>
            <div class="emoji-big" style="font-size: 3rem; margin-bottom: 10px;">üíë</div>
            <div class="final-slideshow-container">
                <img src="final1.jpeg" alt="Final 1" class="final-img active">
                <img src="final2.jpeg" alt="Final 2" class="final-img">
                <img src="final3.jpeg" alt="Final 3" class="final-img">
            </div>
            <button class="btn btn-secondary" onclick="showBonus()">Wait, one last thing... ü§´</button>
        </div>

        <div id="bonus-screen">
            <h1>Okay, honestly though...</h1>
            <div class="funny-frame">
                <img src="funny.jpeg" alt="Goofy Aakanksha">
            </div>
            <p style="font-style: italic;">I love you even when you're like this! <br>(Actually, especially like this) ü§™‚ù§Ô∏è</p>
            <div style="font-size: 1.1rem; color: #d63384; font-weight: bold; margin-bottom: 20px;">Forever & Always.</div>
        </div>
    </div>

    <canvas id="confetti"></canvas>

    <script>
        // ==========================
        //  COUNTDOWN LOGIC
        // ==========================
        
        // 1. Get current year
        const currentYear = new Date().getFullYear();
        
        // 2. Set the target Date: Feb 14th, 00:00:00
        // NOTE: Month is 0-indexed in JS (0 = Jan, 1 = Feb). So 1 is February.
        let targetDate = new Date(currentYear, 1, 14, 0, 0, 0); 
        
        // --- TEST MODE ---
        // Uncomment the line below to simulate that Valentine's Day has already passed (to test the site):
        // targetDate = new Date(currentYear, 1, 1, 0, 0, 0); // Sets target to Feb 1st (Passed)

        const countdownContainer = document.getElementById('countdown-container');
        const startContent = document.getElementById('start-content');

        function updateCountdown() {
            const now = new Date();
            const diff = targetDate - now;

            if (diff <= 0) {
                // Time is up! Show the button
                countdownContainer.style.display = 'none';
                startContent.style.display = 'flex';
                clearInterval(timerInterval); // Stop the timer
                return;
            }

            // Time is NOT up. Calculate days, hours, mins, secs
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            document.getElementById('days').innerText = String(days).padStart(2, '0');
            document.getElementById('hours').innerText = String(hours).padStart(2, '0');
            document.getElementById('mins').innerText = String(minutes).padStart(2, '0');
            document.getElementById('secs').innerText = String(seconds).padStart(2, '0');
        }

        // Run immediately, then every second
        updateCountdown();
        const timerInterval = setInterval(updateCountdown, 1000);


        // ==========================
        //  APP LOGIC
        // ==========================
        const buttonTexts = [
            "Next, my baby girl üíï", "Go on, mi amor üíç", 
            "Look here, sweetheart üòç", "And the masterpiece... ‚ú®", "Ask me! üíò"
        ];
        const captions = [
            "To my darling Aakanksha, here‚Äôs a little trip down memory lane...",
            "Every smile we share makes my heart skip a beat, baby girl.",
            "You are the sunshine that brightens up my whole world.",
            "I'm so lucky to call you my sweetheart. Life is better with you.",
            "But this... this is my favorite view. The most beautiful girl in the world."
        ];

        let currentSlide = 0;
        const slides = document.querySelectorAll('.photo-frame img');
        const nextBtn = document.getElementById('next-btn');
        const captionText = document.getElementById('caption-text');
        const headerText = document.getElementById('header-text');
        
        // Sections
        const startScreen = document.getElementById('start-screen');
        const slideshowContainer = document.getElementById('slideshow-container');
        const proposalDiv = document.getElementById('proposal');
        const successMsg = document.getElementById('success-msg');
        const bonusScreen = document.getElementById('bonus-screen');

        function startJourney() {
            startScreen.style.display = 'none';
            slideshowContainer.style.display = 'flex';
        }

        function nextSlide() {
            captionText.classList.add('hide-text');
            headerText.classList.add('hide-text');
            captionText.classList.remove('sparkle-effect');
            headerText.classList.remove('sparkle-effect');

            slides[currentSlide].classList.remove('active');
            currentSlide++;

            if (currentSlide < slides.length) {
                slides[currentSlide].classList.add('active');
                setTimeout(() => {
                    if (currentSlide - 1 < buttonTexts.length) nextBtn.innerText = buttonTexts[currentSlide - 1];
                    if (currentSlide < captions.length) captionText.innerText = captions[currentSlide];
                    if (currentSlide === 4) headerText.innerText = "And finally...";

                    captionText.classList.remove('hide-text');
                    headerText.classList.remove('hide-text');
                    captionText.classList.add('sparkle-effect');
                    if(currentSlide === 4) headerText.classList.add('sparkle-effect');
                }, 500); 
            } else {
                slideshowContainer.style.display = 'none';
                proposalDiv.style.display = 'flex';
            }
        }

        function acceptProposal() {
            proposalDiv.style.display = 'none';
            successMsg.style.display = 'flex';
            startConfetti();
            startFinalSlideshow(); 
        }

        function showBonus() {
            successMsg.style.display = 'none';
            bonusScreen.style.display = 'flex';
        }

        function startFinalSlideshow() {
            let finalIndex = 0;
            const finalImages = document.querySelectorAll('.final-img');
            setInterval(() => {
                finalImages[finalIndex].classList.remove('active');
                finalIndex = (finalIndex + 1) % finalImages.length;
                finalImages[finalIndex].classList.add('active');
            }, 3000); 
        }

        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart-bg');
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.left = Math.random() * 100 + "vw";
            heart.style.animationDuration = Math.random() * 5 + 10 + "s"; 
            heart.style.fontSize = Math.random() * 20 + 20 + "px";
            document.getElementById('bg-hearts').appendChild(heart);
            setTimeout(() => { heart.remove(); }, 15000);
        }
        setInterval(createHeart, 500); 

        const canvas = document.getElementById('confetti');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        let pieces = [];
        const colors = ['#ff0000', '#ff4d6d', '#ffffff', '#ffb3c6'];

        function startConfetti() {
            for (let i = 0; i < 300; i++) {
                pieces.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    w: Math.random() * 10 + 5,
                    h: Math.random() * 10 + 5,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    speed: Math.random() * 5 + 2,
                    angle: Math.random() * 360
                });
            }
            updateConfetti();
        }

        function updateConfetti() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            pieces.forEach((p) => {
                ctx.fillStyle = p.color;
                ctx.save();
                ctx.translate(p.x, p.y);
                ctx.rotate(p.angle * Math.PI / 180);
                ctx.fillRect(-p.w / 2, -p.h / 2, p.w, p.h);
                ctx.restore();
                p.y += p.speed;
                p.angle += 2;
                if (p.y > canvas.height) p.y = -10;
            });
            requestAnimationFrame(updateConfetti);
        }
        
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

    </script>
</body>
</html>
